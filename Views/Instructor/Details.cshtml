@model ContosoUniversity.Models.ViewModels.InstructorDetailsData

@{
    Layout = "_Layout";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Details</title>
</head>
<body>

<div>
    <h4>Instructor</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Instructor.FirstMidName)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Instructor.FirstMidName)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Instructor.LastName)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Instructor.LastName)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Instructor.HireDate)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Instructor.HireDate)
        </dd>
        <dt class = "col-sm-2">
            Office
        </dt>
        <dd class = "col-sm-10">
            @if (Model.Instructor.OfficeAssignment != null)
            {
                @Html.DisplayFor(model => model.Instructor.OfficeAssignment.Location)
            }
        </dd> 
        <dt class = "col-sm-2">
            Course(s)
        </dt>
        <dd class = "col-sm-10">
            @if (Model.Instructor.CourseAssignments != null)
            {
                @foreach (var ca in Model.Instructor.CourseAssignments)
                { 
                    <p>                   
                    @Html.ActionLink(@ca.Course.Title, "Details", "Instructor", new { Id = @Model.Instructor.ID, CourseID = @ca.Course.CourseID})
                    </p>
                }                                                
            }
        </dd>       
    </dl>
</div>
@if (Model.Enrollments != null)
{
    <h5>
        Students Enrolled in Course '@ViewBag.Course'
    </h5>
    <table class="table">
        <tr>
            <th>Name</th>
            <th>Grade</th>
        </tr>
        @foreach (var item in Model.Enrollments)
        {
            <tr>
                <td>
                    @item.Student.FullName
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Grade)
                </td>
            </tr>
        }
    </table>
}
<div>
    <a asp-action="Edit" asp-route-id="@Model.Instructor.ID">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
</body>
</html>
